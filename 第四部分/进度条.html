<!DOCTYPE HTML>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>进度条</title>
<style>
*{
	margin:0;
	padding:0;
}
#box{
	height:40px;
	line-height:40px;
	border:1px solid #000;
	width:400px;
	margin:50px;
	position:relative;
}
#white{
	width:100%;
	line-height:40px;
	position:absolute;
	top:0;
	left:0;
	z-index:2;
	color:white;
	text-align:center;
	clip:rect(0px, 0, 40px, 0px);
	font-size:20px;
	background:#00A1F5;
}
#black{
	width:100%;
	line-height:40px;
	position:absolute;
	left:0;
	top:0;
	color:black;
	z-index:1;
	text-align:center;
	font-size:20px;
}
</style>
<script>
	window.onload=function(){
		var oBox=document.getElementById('box');
		jinDuTiao(oBox);
		function jinDuTiao(obj){
			var oWhite=obj.getElementsByTagName('div')[0];
			var oBlack=obj.getElementsByTagName('div')[1];
			var cent=0;
			var centSpeed=1;
			var timer=setInterval(function(){
				cent+=centSpeed;
				if(cent==100)
					clearInterval(timer);
				a(cent);
			},50);
			function a(cent){
				var oWidth=parseInt(getStyle(oBlack,'width'));
				oWhite.innerHTML=cent+'%';
				oBlack.innerHTML=cent+'%';
				oWhite.style.clip='rect(0px,'+ cent/100*oWidth +'px, 40px, 0px)';
				function getStyle(obj,attr){
					return obj.currentStyle? obj.currentStyle[attr]:getComputedStyle(obj,false)[attr];
				}
			};
		};
		
		
	}
</script>
</head>
<body>
	<div id="box">
		<div id="white">0%</div>
		<div id="black">0%</div>
	</div>
</body>
</html>
